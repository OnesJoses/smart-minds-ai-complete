<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Minds - AI Learning Platform</title>
    <script>
        // Show loading message until script is loaded
        document.addEventListener('DOMContentLoaded', function() {
            const loadingDiv = document.createElement('div');
            loadingDiv.id = 'ai-loading';
            loadingDiv.style.position = 'fixed';
            loadingDiv.style.top = '0';
            loadingDiv.style.left = '0';
            loadingDiv.style.width = '100vw';
            loadingDiv.style.height = '100vh';
            loadingDiv.style.background = 'rgba(255,255,255,0.8)';
            loadingDiv.style.display = 'flex';
            loadingDiv.style.alignItems = 'center';
            loadingDiv.style.justifyContent = 'center';
            loadingDiv.style.zIndex = '9999';
            loadingDiv.innerHTML = '<span style="font-size:1.5rem;color:#333;">Loading AI service...</span>';
            document.body.appendChild(loadingDiv);

            var script = document.createElement('script');
            script.src = 'https://js.puter.com/v2/';
            script.async = true;
            script.onload = function() {
                loadingDiv.remove();
                // Confirm Puter.js loaded
                if (!window.puter || !window.puter.ai) {
                  const errorDiv = document.createElement('div');
                  errorDiv.id = 'ai-error';
                  errorDiv.style.position = 'fixed';
                  errorDiv.style.top = '0';
                  errorDiv.style.left = '0';
                  errorDiv.style.width = '100vw';
                  errorDiv.style.height = '100vh';
                  errorDiv.style.background = 'rgba(255,255,255,0.9)';
                  errorDiv.style.display = 'flex';
                  errorDiv.style.alignItems = 'center';
                  errorDiv.style.justifyContent = 'center';
                  errorDiv.style.zIndex = '9999';
                  errorDiv.innerHTML = '<span style="font-size:1.5rem;color:red;">AI service loaded but not available. Please check your network or try again later.<br>If you use an ad blocker, please disable it for this site.</span>';
                  document.body.appendChild(errorDiv);
                }
            };
            script.onerror = function() {
                loadingDiv.innerHTML = '<span style="font-size:1.5rem;color:red;">AI service failed to load. Please try again later.</span>';
            };
            document.head.appendChild(script);
        });
    </script>
</head>
<body>
    <div id="app"></div>
    <script type="module" src="/src/main.tsx"></script>
</body>
</html>